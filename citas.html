<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sacar Cita - AngioVida</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body { 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
      line-height: 1.6;
      color: #333;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
    }
    
    .appointment-container {
      max-width: 900px;
      margin: 40px auto;
      padding: 20px;
    }
    
    .appointment-header {
      text-align: center;
      margin-bottom: 40px;
      background: linear-gradient(135deg, #0077be, #009fe3);
      color: white;
      padding: 40px 20px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,119,190,0.3);
    }
    
    .appointment-header h1 {
      font-size: 2.5em;
      font-weight: 300;
      margin-bottom: 10px;
    }
    
    .appointment-header p {
      font-size: 1.1em;
      opacity: 0.9;
    }
    
    .appointment-form {
      background: white;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 15px 50px rgba(0,0,0,0.1);
      margin-bottom: 30px;
    }
    
    .form-section {
      margin-bottom: 30px;
    }
    
    .form-section h3 {
      color: #0077be;
      font-size: 1.3em;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .form-row {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .form-group {
      display: flex;
      flex-direction: column;
    }
    
    .form-group label {
      color: #555;
      font-weight: 600;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .form-group input,
    .form-group select,
    .form-group textarea {
      padding: 12px 15px;
      border: 2px solid #e1e8ed;
      border-radius: 10px;
      font-size: 1em;
      transition: all 0.3s ease;
      background: #fafbfc;
    }
    
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus {
      outline: none;
      border-color: #0077be;
      background: white;
      box-shadow: 0 0 0 3px rgba(0,119,190,0.1);
    }
    
    .form-group textarea {
      resize: vertical;
      min-height: 100px;
    }
    
    .appointment-type {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }
    
    .service-option {
      position: relative;
    }
    
    .service-option input[type="radio"] {
      position: absolute;
      opacity: 0;
    }
    
    .service-option label {
      display: block;
      padding: 20px 15px;
      background: #f8f9fa;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
    }
    
    .service-option input[type="radio"]:checked + label {
      background: linear-gradient(135deg, #0077be, #009fe3);
      color: white;
      border-color: #0077be;
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(0,119,190,0.3);
    }
    
    .service-option label i {
      font-size: 1.5em;
      margin-bottom: 8px;
      display: block;
    }
    
    .date-time-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }
    
    .time-slots {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }
    
    .time-slot {
      position: relative;
    }
    
    .time-slot input[type="radio"] {
      position: absolute;
      opacity: 0;
    }
    
    .time-slot label {
      display: block;
      padding: 10px 8px;
      background: #f8f9fa;
      border: 2px solid #e9ecef;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      font-size: 0.9em;
    }
    
    .time-slot input[type="radio"]:checked + label {
      background: #0077be;
      color: white;
      border-color: #0077be;
    }
    
    .time-slot label:hover {
      background: #e9ecef;
    }
    
    .time-slot input[type="radio"]:checked + label:hover {
      background: #005fa3;
    }
    
    .submit-section {
      text-align: center;
      margin-top: 40px;
      padding-top: 30px;
      border-top: 2px solid #e9ecef;
    }
    
    .submit-btn {
      background: linear-gradient(135deg, #28a745, #20c997);
      color: white;
      padding: 15px 40px;
      border: none;
      border-radius: 50px;
      font-size: 1.1em;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 10px;
    }
    
    .submit-btn:hover {
      background: linear-gradient(135deg, #218838, #1ea085);
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(40,167,69,0.3);
    }
    
    .back-btn {
      background: #6c757d;
      color: white;
      padding: 12px 30px;
      border: none;
      border-radius: 25px;
      font-size: 1em;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 20px;
    }
    
    .back-btn:hover {
      background: #5a6268;
      transform: translateY(-2px);
    }
    
    .info-card {
      background: linear-gradient(135deg, #17a2b8, #138496);
      color: white;
      padding: 20px;
      border-radius: 15px;
      margin-bottom: 30px;
    }
    
    .info-card h4 {
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .info-list {
      list-style: none;
    }
    
    .info-list li {
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .success-message {
      background: linear-gradient(135deg, #28a745, #20c997);
      color: white;
      padding: 30px;
      border-radius: 15px;
      text-align: center;
      display: none;
    }
    
    .success-message.show {
      display: block;
      animation: slideInUp 0.5s ease;
    }
    
    @keyframes slideInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .required {
      color: #dc3545;
    }
    
    @media (max-width: 768px) {
      .appointment-container {
        margin: 20px;
      }
      
      .appointment-form {
        padding: 25px;
      }
      
      .date-time-grid {
        grid-template-columns: 1fr;
      }
      
      .time-slots {
        grid-template-columns: repeat(3, 1fr);
      }
      
      .appointment-header h1 {
        font-size: 2em;
      }
    }
  </style>
</head>
<body>
  <div class="appointment-container">
    <a href="#" class="back-btn" onclick="history.back()">
      <i class="fas fa-arrow-left"></i>
      Volver al Sitio Web
    </a>
    
    <div class="appointment-header">
      <h1><i class="fas fa-calendar-plus"></i> Reservar Cita Médica</h1>
      <p>Agenda tu cita de forma rápida y sencilla con nuestros especialistas</p>
    </div>
    
    <div class="info-card">
      <h4><i class="fas fa-info-circle"></i> Información Importante</h4>
      <ul class="info-list">
        <li><i class="fas fa-clock"></i> Las citas se confirman en un plazo máximo de 24 horas</li>
        <li><i class="fas fa-phone"></i> Recibirás una llamada de confirmación</li>
        <li><i class="fas fa-id-card"></i> Recuerda traer tu cédula y seguro médico</li>
        <li><i class="fas fa-calendar-times"></i> Para cancelar, llama al menos 24 horas antes</li>
      </ul>
    </div>
    
    <form class="appointment-form" id="appointmentForm">
      <!-- Información Personal -->
      <div class="form-section">
        <h3><i class="fas fa-user"></i> Información Personal</h3>
        <div class="form-row">
          <div class="form-group">
            <label for="firstName">
              <i class="fas fa-user"></i>
              Nombre <span class="required">*</span>
            </label>
            <input type="text" id="firstName" name="firstName" required>
          </div>
          <div class="form-group">
            <label for="lastName">
              <i class="fas fa-user"></i>
              Apellido <span class="required">*</span>
            </label>
            <input type="text" id="lastName" name="lastName" required>
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="cedula">
              <i class="fas fa-id-card"></i>
              Cédula <span class="required">*</span>
            </label>
            <input type="text" id="cedula" name="cedula" required>
          </div>
          <div class="form-group">
            <label for="birthDate">
              <i class="fas fa-birthday-cake"></i>
              Fecha de Nacimiento <span class="required">*</span>
            </label>
            <input type="date" id="birthDate" name="birthDate" required>
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="phone">
              <i class="fas fa-phone"></i>
              Teléfono <span class="required">*</span>
            </label>
            <input type="tel" id="phone" name="phone" required>
          </div>
          <div class="form-group">
            <label for="email">
              <i class="fas fa-envelope"></i>
              Correo Electrónico
            </label>
            <input type="email" id="email" name="email">
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="insurance">
              <i class="fas fa-shield-alt"></i>
              Seguro Médico
            </label>
            <select id="insurance" name="insurance">
              <option value="">Seleccionar seguro</option>
              <option value="css">Caja de Seguro Social (CSS)</option>
              <option value="privado">Seguro Privado</option>
              <option value="particular">Particular</option>
            </select>
          </div>
          <div class="form-group">
            <label for="emergencyContact">
              <i class="fas fa-user-friends"></i>
              Contacto de Emergencia
            </label>
            <input type="tel" id="emergencyContact" name="emergencyContact">
          </div>
        </div>
      </div>
      
      <!-- Tipo de Servicio -->
      <div class="form-section">
        <h3><i class="fas fa-stethoscope"></i> Tipo de Servicio</h3>
        <div class="appointment-type">
          <div class="service-option">
            <input type="radio" id="rayosX" name="serviceType" value="rayos-x" required>
            <label for="rayosX">
              <i class="fas fa-x-ray"></i>
              <strong>Rayos X</strong>
              <br>Diagnóstico por imagen
            </label>
          </div>
          <div class="service-option">
            <input type="radio" id="angiografia" name="serviceType" value="angiografia" required>
            <label for="angiografia">
              <i class="fas fa-heartbeat"></i>
              <strong>Angiografía</strong>
              <br>Estudio vascular
            </label>
          </div>
        </div>
      </div>
      
      <!-- Fecha y Hora -->
      <div class="form-section">
        <h3><i class="fas fa-calendar-alt"></i> Fecha y Hora Preferida</h3>
        <div class="date-time-grid">
          <div class="form-group">
            <label for="appointmentDate">
              <i class="fas fa-calendar"></i>
              Fecha de la Cita <span class="required">*</span>
            </label>
            <input type="date" id="appointmentDate" name="appointmentDate" required>
          </div>
          <div class="form-group">
            <label for="appointmentTime">
              <i class="fas fa-clock"></i>
              Hora Preferida <span class="required">*</span>
            </label>
            <div class="time-slots">
              <div class="time-slot">
                <input type="radio" id="time8" name="appointmentTime" value="08:00" required>
                <label for="time8">8:00 AM</label>
              </div>
              <div class="time-slot">
                <input type="radio" id="time9" name="appointmentTime" value="09:00">
                <label for="time9">9:00 AM</label>
              </div>
              <div class="time-slot">
                <input type="radio" id="time10" name="appointmentTime" value="10:00">
                <label for="time10">10:00 AM</label>
              </div>
              <div class="time-slot">
                <input type="radio" id="time11" name="appointmentTime" value="11:00">
                <label for="time11">11:00 AM</label>
              </div>
              <div class="time-slot">
                <input type="radio" id="time14" name="appointmentTime" value="14:00">
                <label for="time14">2:00 PM</label>
              </div>
              <div class="time-slot">
                <input type="radio" id="time15" name="appointmentTime" value="15:00">
                <label for="time15">3:00 PM</label>
              </div>
              <div class="time-slot">
                <input type="radio" id="time16" name="appointmentTime" value="16:00">
                <label for="time16">4:00 PM</label>
              </div>
              <div class="time-slot">
                <input type="radio" id="time17" name="appointmentTime" value="17:00">
                <label for="time17">5:00 PM</label>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Información Médica -->
      <div class="form-section">
        <h3><i class="fas fa-notes-medical"></i> Información Médica</h3>
        <div class="form-row">
          <div class="form-group">
            <label for="reason">
              <i class="fas fa-clipboard-list"></i>
              Motivo de la Consulta <span class="required">*</span>
            </label>
            <textarea id="reason" name="reason" placeholder="Describa brevemente el motivo de su cita..." required></textarea>
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="symptoms">
              <i class="fas fa-thermometer-half"></i>
              Síntomas Actuales
            </label>
            <textarea id="symptoms" name="symptoms" placeholder="Describa sus síntomas actuales (opcional)"></textarea>
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="medications">
              <i class="fas fa-pills"></i>
              Medicamentos Actuales
            </label>
            <textarea id="medications" name="medications" placeholder="Liste los medicamentos que está tomando actualmente"></textarea>
          </div>
        </div>
        
        <div class="form-row">
          <div class="form-group">
            <label for="allergies">
              <i class="fas fa-exclamation-triangle"></i>
              Alergias Conocidas
            </label>
            <input type="text" id="allergies" name="allergies" placeholder="Ej: Penicilina, Yodo, Látex">
          </div>
          <div class="form-group">
            <label for="previousStudies">
              <i class="fas fa-history"></i>
              Estudios Previos
            </label>
            <select id="previousStudies" name="previousStudies">
              <option value="">¿Ha tenido estudios similares antes?</option>
              <option value="si">Sí, en los últimos 6 meses</option>
              <option value="hace-tiempo">Sí, hace más de 6 meses</option>
              <option value="no">No, es mi primer estudio</option>
            </select>
          </div>
        </div>
      </div>
      
      <!-- Comentarios Adicionales -->
      <div class="form-section">
        <div class="form-group">
          <label for="comments">
            <i class="fas fa-comment"></i>
            Comentarios Adicionales
          </label>
          <textarea id="comments" name="comments" placeholder="Cualquier información adicional que considere importante..."></textarea>
        </div>
      </div>
      
      <!-- Botón de Envío -->
      <div class="submit-section">
        <button type="submit" class="submit-btn">
          <i class="fas fa-calendar-check"></i>
          Confirmar Cita
        </button>
        <p style="margin-top: 15px; color: #666; font-size: 0.9em;">
          <i class="fas fa-info-circle"></i>
          Al enviar este formulario, acepta que nos comuniquemos con usted para confirmar su cita.
        </p>
      </div>
    </form>
    
    <!-- Mensaje de Éxito -->
    <div class="success-message" id="successMessage">
      <h3><i class="fas fa-check-circle"></i> ¡Cita Solicitada Exitosamente!</h3>
      <p>Hemos recibido su solicitud de cita. Nos comunicaremos con usted en las próximas 24 horas para confirmar la fecha y hora.</p>
      <p><strong>Número de referencia:</strong> <span id="referenceNumber"></span></p>
      <button class="submit-btn" onclick="location.reload()" style="margin-top: 20px;">
        <i class="fas fa-plus"></i>
        Solicitar Nueva Cita
      </button>
    </div>
  </div>
  
  <script>
    // Configurar fecha mínima (mañana)
    const today = new Date();
    const tomorrow = new Date(today);
    tomorrow.setDate(tomorrow.getDate() + 1);
    document.getElementById('appointmentDate').min = tomorrow.toISOString().split('T')[0];
    
    // Configurar fecha máxima (3 meses adelante)
    const maxDate = new Date(today);
    maxDate.setMonth(maxDate.getMonth() + 3);
    document.getElementById('appointmentDate').max = maxDate.toISOString().split('T')[0];
    
    // Generar número de referencia
    function generateReferenceNumber() {
      return 'AV-' + Date.now().toString().slice(-6);
    }
    
    // Manejar envío del formulario
    document.getElementById('appointmentForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Simular procesamiento
      const submitBtn = document.querySelector('.submit-btn');
      const originalContent = submitBtn.innerHTML;
      
      submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Procesando...';
      submitBtn.disabled = true;
      
      setTimeout(() => {
        // Ocultar formulario y mostrar mensaje de éxito
        document.querySelector('.appointment-form').style.display = 'none';
        document.querySelector('.info-card').style.display = 'none';
        
        const successMessage = document.getElementById('successMessage');
        const referenceNumber = document.getElementById('referenceNumber');
        
        referenceNumber.textContent = generateReferenceNumber();
        successMessage.classList.add('show');
        
        // Scroll al mensaje de éxito
        successMessage.scrollIntoView({ behavior: 'smooth' });
        
        // Aquí enviarías los datos a tu servidor
        console.log('Datos de la cita:', new FormData(this));
        
      }, 2000);
    });
    
    // Validar cédula panameña (básica)
    document.getElementById('cedula').addEventListener('input', function(e) {
      let value = e.target.value.replace(/\D/g, '');
      
      if (value.length > 0) {
        if (value.length <= 1) {
          value = value;
        } else if (value.length <= 4) {
          value = value.slice(0, 1) + '-' + value.slice(1);
        } else if (value.length <= 8) {
          value = value.slice(0, 1) + '-' + value.slice(1, 4) + '-' + value.slice(4);
        } else {
          value = value.slice(0, 1) + '-' + value.slice(1, 4) + '-' + value.slice(4, 8);
        }
      }
      
      e.target.value = value;
    });
    
    // Validar teléfono
    document.getElementById('phone').addEventListener('input', function(e) {
      let value = e.target.value.replace(/\D/g, '');
      
      if (value.length > 0) {
        if (value.length <= 4) {
          value = value;
        } else {
          value = value.slice(0, 4) + '-' + value.slice(4, 8);
        }
      }
      
      e.target.value = value;
    });
    
    // Actualizar horarios según el día seleccionado
    document.getElementById('appointmentDate').addEventListener('change', function(e) {
      const selectedDate = new Date(e.target.value);
      const dayOfWeek = selectedDate.getDay();
      
      // Deshabilitar horarios de fin de semana o ajustar según necesidades
      const timeSlots = document.querySelectorAll('.time-slot input');
      
      if (dayOfWeek === 0 || dayOfWeek === 6) { // Domingo o Sábado
        alert('Los fines de semana solo tenemos horarios limitados. Por favor contacte directamente.');
      }
    });
  </script>
</body>
</html>